{"version":3,"file":"extension.js","sourceRoot":"","sources":["../../../../src/cli/private/plugins/extension.ts"],"names":[],"mappings":"AAIA,OAAO,EAAC,0BAA0B,EAAC,MAAM,+BAA+B,CAAA;AACxE,OAAO,EAAC,WAAW,EAAC,MAAM,+BAA+B,CAAA;AAEzD,MAAM,CAAC,KAAK,UAAU,yCAAyC,CAAC,MAAc;IAC5E,MAAM,KAAK,GAAG,MAAM,WAAW,CAAkD,MAAM,EAAE,iBAAiB,EAAE,EAAE,CAAC,CAAA;IAC/G,MAAM,KAAK,GAAG,0BAA0B,CAAC,MAAM,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,EAAE,CAAA;IACrE,OAAO,KAAK,CAAA;AACd,CAAC;AAED,MAAM,CAAC,KAAK,UAAU,qCAAqC,CAAC,MAAc;IACxE,MAAM,KAAK,GAAG,MAAM,WAAW,CAAiD,MAAM,EAAE,gBAAgB,EAAE,EAAE,CAAC,CAAA;IAC7G,MAAM,KAAK,GAAG,0BAA0B,CAAC,MAAM,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,EAAE,CAAA;IACrE,OAAO,KAAK,CAAA;AACd,CAAC","sourcesContent":["import {UIExtensionSpec} from '../../models/extensions/ui.js'\nimport {FunctionSpec} from '../../models/extensions/functions.js'\nimport {HookReturnPerExtensionPlugin} from '../../public/plugins/extension.js'\nimport {Config} from '@oclif/core'\nimport {getArrayRejectingUndefined} from '@shopify/cli-kit/common/array'\nimport {fanoutHooks} from '@shopify/cli-kit/node/plugins'\n\nexport async function loadUIExtensionSpecificiationsFromPlugins(config: Config): Promise<UIExtensionSpec[]> {\n  const hooks = await fanoutHooks<HookReturnPerExtensionPlugin, 'extension_specs'>(config, 'extension_specs', {})\n  const specs = getArrayRejectingUndefined(Object.values(hooks)).flat()\n  return specs\n}\n\nexport async function loadFunctionSpecificationsFromPlugins(config: Config): Promise<FunctionSpec[]> {\n  const hooks = await fanoutHooks<HookReturnPerExtensionPlugin, 'function_specs'>(config, 'function_specs', {})\n  const specs = getArrayRejectingUndefined(Object.values(hooks)).flat()\n  return specs\n}\n"]}