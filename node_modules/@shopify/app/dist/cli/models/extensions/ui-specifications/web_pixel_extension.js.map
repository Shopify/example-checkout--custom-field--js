{"version":3,"file":"web_pixel_extension.js","sourceRoot":"","sources":["../../../../../src/cli/models/extensions/ui-specifications/web_pixel_extension.ts"],"names":[],"mappings":"AAAA,OAAO,EAAC,8BAA8B,EAAC,MAAM,UAAU,CAAA;AACvD,OAAO,EAAC,uBAAuB,EAAC,MAAM,uBAAuB,CAAA;AAC7D,OAAO,EAAC,qBAAqB,EAAC,MAAM,eAAe,CAAA;AACnD,OAAO,EAAC,GAAG,EAAC,MAAM,8BAA8B,CAAA;AAChD,OAAO,EAAC,UAAU,EAAC,MAAM,6BAA6B,CAAA;AAEtD,MAAM,UAAU,GAAG,EAAC,IAAI,EAAE,+BAA+B,EAAE,OAAO,EAAE,QAAQ,EAAC,CAAA;AAE7E,MAAM,cAAc,GAAG,qBAAqB,CAAC,MAAM,CAAC;IAClD,cAAc,EAAE,GAAG,CAAC,MAAM,EAAE;IAC5B,OAAO,EAAE,GAAG,CAAC,MAAM,EAAE,CAAC,QAAQ,EAAE;IAChC,aAAa,EAAE,GAAG,CAAC,GAAG,EAAE;IACxB,QAAQ,EAAE,GAAG,CAAC,GAAG,EAAE;CACpB,CAAC,CAAA;AAEF,MAAM,IAAI,GAAG,8BAA8B,CAAC;IAC1C,UAAU,EAAE,qBAAqB;IACjC,OAAO,EAAE,SAAS;IAClB,UAAU;IACV,qBAAqB,EAAE,WAAW;IAClC,gBAAgB,EAAE,uBAAuB,CAAC,MAAM,CAAC,CAAC,MAAM,EAAE,EAAE,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;IAC7F,MAAM,EAAE,cAAc;IACtB,YAAY,EAAE,KAAK,EAAE,MAAM,EAAE,CAAC,EAAE,EAAE;QAChC,OAAO;YACL,eAAe,EAAE,MAAM,CAAC,cAAc;YACtC,gCAAgC,EAAE,MAAM,CAAC,QAAQ;SAClD,CAAA;IACH,CAAC;IACD,mBAAmB,EAAE,KAAK,EAAE,SAAS,EAAE,EAAE;QACvC,IAAI,SAAS,CAAC,aAAa,CAAC,aAAa,EAAE;YACzC,MAAM,IAAI,UAAU,CAClB,mEAAmE,EACnE,mCAAmC,CACpC,CAAA;SACF;QACD,OAAO,OAAO,CAAC,OAAO,EAAE,CAAA;IAC1B,CAAC;IACD,cAAc,EAAE,GAAG,EAAE,CAAC,SAAS;CAChC,CAAC,CAAA;AAEF,eAAe,IAAI,CAAA","sourcesContent":["import {createUIExtensionSpecification} from '../ui.js'\nimport {defaultExtensionFlavors} from '../../../constants.js'\nimport {BaseUIExtensionSchema} from '../schemas.js'\nimport {zod} from '@shopify/cli-kit/node/schema'\nimport {AbortError} from '@shopify/cli-kit/node/error'\n\nconst dependency = {name: '@shopify/web-pixels-extension', version: '^0.1.1'}\n\nconst WebPixelSchema = BaseUIExtensionSchema.extend({\n  runtimeContext: zod.string(),\n  version: zod.string().optional(),\n  configuration: zod.any(),\n  settings: zod.any(),\n})\n\nconst spec = createUIExtensionSpecification({\n  identifier: 'web_pixel_extension',\n  surface: 'unknown',\n  dependency,\n  partnersWebIdentifier: 'web_pixel',\n  supportedFlavors: defaultExtensionFlavors.filter((flavor) => !flavor.value.includes('react')),\n  schema: WebPixelSchema,\n  deployConfig: async (config, _) => {\n    return {\n      runtime_context: config.runtimeContext,\n      runtime_configuration_definition: config.settings,\n    }\n  },\n  preDeployValidation: async (extension) => {\n    if (extension.configuration.configuration) {\n      throw new AbortError(\n        `The property configuration is deprecated and no longer supported.`,\n        `It has been replaced by settings.`,\n      )\n    }\n    return Promise.resolve()\n  },\n  previewMessage: () => undefined,\n})\n\nexport default spec\n"]}