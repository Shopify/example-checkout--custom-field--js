{"version":3,"file":"utilities.js","sourceRoot":"","sources":["../../../../../src/cli/services/dev/extension/utilities.ts"],"names":[],"mappings":"AAEA,OAAO,EAAC,mBAAmB,EAAC,MAAM,wDAAwD,CAAA;AAE1F;;;;GAIG;AACH,MAAM,CAAC,KAAK,UAAU,yBAAyB,CAAC,UAAyB,EAAE,KAAa,EAAE,eAAwB;IAChH,MAAM,cAAc,GAAG,UAAU,CAAC,MAAM,CAAC,CAAC,SAAS,EAAE,EAAE,CAAC,SAAS,CAAC,kBAAkB,EAAE,CAAC,CAAC,MAAM,GAAG,CAAC,CAAA;IAClG,IAAI,CAAC,cAAc;QAAE,OAAO,SAAS,CAAA;IACrC,IAAI,eAAe;QAAE,OAAO,eAAe,CAAA;IAC3C,MAAM,SAAS,GAAG,MAAM,mBAAmB,CAAC,KAAK,CAAC,CAAA;IAClD,OAAO,SAAS,SAAS,IAAI,CAAA;AAC/B,CAAC;AAED;;GAEG;AACH,MAAM,UAAU,8BAA8B,CAAC,oBAA4B;IACzE,OAAO,oBAAoB,CAAC,WAAW,EAAE,CAAC,OAAO,CAAC,YAAY,EAAE,EAAE,CAAC,CAAA;AACrE,CAAC","sourcesContent":["import {UIExtension} from '../../../models/app/extensions.js'\n\nimport {fetchProductVariant} from '../../../utilities/extensions/fetch-product-variant.js'\n\n/**\n * To prepare UI Extensions targeting Checkout for dev'ing we need to retrieve a valid product variant ID\n * @param extensions - The UI Extensions to dev\n * @param store - The store FQDN\n */\nexport async function getCartPathFromExtensions(extensions: UIExtension[], store: string, checkoutCartUrl?: string) {\n  const hasUIExtension = extensions.filter((extension) => extension.shouldFetchCartUrl()).length > 0\n  if (!hasUIExtension) return undefined\n  if (checkoutCartUrl) return checkoutCartUrl\n  const variantId = await fetchProductVariant(store)\n  return `/cart/${variantId}:1`\n}\n\n/**\n * Returns the surface for UI extension from an extension point target\n */\nexport function getExtensionPointTargetSurface(extensionPointTarget: string) {\n  return extensionPointTarget.toLowerCase().replace(/(::|\\.).+$/, '')\n}\n"]}