{"version":3,"file":"web.js","sourceRoot":"","sources":["../../../src/cli/services/web.ts"],"names":[],"mappings":"AAEA,OAAO,EAAC,IAAI,EAAC,MAAM,8BAA8B,CAAA;AAWjD,MAAM,CAAC,OAAO,CAAC,KAAK,UAAU,GAAG,CAC/B,OAAiC,EACjC,EAAC,GAAG,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,GAAG,GAAG,EAAE,EAAa;IAEnD,MAAM,MAAM,GAAG,GAAG,CAAC,aAAa,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAA;IAClD,IAAI,CAAC,MAAM,EAAE;QACX,OAAM;KACP;IAED,MAAM,CAAC,GAAG,EAAE,GAAG,IAAI,CAAC,GAAG,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,CAAA;IACxC,MAAM,IAAI,CAAC,GAAI,EAAE,IAAI,EAAE,EAAC,GAAG,EAAE,GAAG,CAAC,SAAS,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,GAAG,EAAC,CAAC,CAAA;IACzE,MAAM,CAAC,KAAK,CAAC,yBAAyB,CAAC,CAAA;AACzC,CAAC","sourcesContent":["import {Web, WebConfigurationCommands} from '../models/app/app.js'\nimport {AbortSignal} from '@shopify/cli-kit/node/abort'\nimport {exec} from '@shopify/cli-kit/node/system'\nimport {Writable} from 'stream'\n\ninterface WebOptions {\n  web: Web\n  stdout: Writable\n  stderr: Writable\n  signal: AbortSignal\n  env?: {[variable: string]: string}\n}\n\nexport default async function web(\n  command: WebConfigurationCommands,\n  {web, stdout, stderr, signal, env = {}}: WebOptions,\n): Promise<void> {\n  const script = web.configuration.commands[command]\n  if (!script) {\n    return\n  }\n\n  const [cmd, ...args] = script.split(' ')\n  await exec(cmd!, args, {cwd: web.directory, stdout, stderr, signal, env})\n  stdout.write('Web successfully built.')\n}\n"]}